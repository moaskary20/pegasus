# 📸 دليل الاستخدام المرئي

## الخطوة 1️⃣: تسجيل الدخول للوحة التحكم

1. افتح لوحة التحكم: `http://your-domain/admin`
2. سجّل الدخول كمدرس أو مسؤول

## الخطوة 2️⃣: الذهاب إلى الدورات

- من القائمة الجانبية: **إدارة الدورات التدريبية → الدورات**

## الخطوة 3️⃣: فتح دورة

- اختر دورة من القائمة
- سترى خيارات متعددة

## الطريقة 1️⃣: عبر "جميع الدروس" (All Lessons)

### الخطوات:
1. في صفحة الدورة، انقر على tab **جميع الدروس**
2. ستجد قائمة بكل الدروس في الدورة
3. انقر على **إضافة درس** أو **تعديل** على درس موجود

### سترى النموذج مع الحقول التالية:

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      نموذج إضافة/تعديل الدرس
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📝 القسم:              [اختر القسم ▼]
📝 العنوان:            [أدخل العنوان]
📝 الوصف:             [أدخل الوصف]
📝 نوع المحتوى:        [نص فقط ▼]
    ↳ محتوى الدرس النصي: [محرر نصي غني]
📊 المدة (بالدقائق):    [0]
📋 ترتيب العرض:        [0]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      ✨ الخيارات الجديدة والموجودة
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

☐ معاينة مجانية
  💡 إذا كان مفعلاً، يمكن للطلاب معاينة الدرس مجاناً

☐ درس مجاني
  💡 إذا كان مفعلاً، يمكن للطلاب الوصول مجاناً بدون شراء الدورة

☑ السماح بفتح الدرس بدون إكمال السابق ← 🆕 الخيار الجديد
  💡 إذا كان مفعلاً، يمكن للطلاب فتح هذا الدرس حتى بدون إكمال الدرس السابق

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[إلغاء]  [حفظ] ← انقر هنا لحفظ الخيارات
```

## الطريقة 2️⃣: عبر "الأقسام" (Sections)

### الخطوات:
1. في صفحة الدورة، انقر على tab **الأقسام**
2. اختر قسماً وانقر على **تعديل**
3. سترى جدول "الدروس" داخل القسم
4. انقر على **إضافة درس** أو **تعديل**

### سترى النفس النموذج مع نفس الخيارات

---

## 🎯 حالات الاستخدام

### الحالة 1: درس مقفول (الافتراضي)

```
نموذج الدرس:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
☐ درس مجاني
☐ السماح بفتح الدرس بدون إكمال السابق ← معطّل
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

النتيجة:
✅ الطالب يجب عليه إكمال جميع الدروس السابقة أولاً
❌ إذا لم يكمل: سيرى رسالة "يجب عليك إكمال الدرس: [الدرس السابق]"

جدول الدروس:
┌────┬──────────┬──────────────────┐
│ الدرس │ الترتيب │ بدون شرط السابق │
├────┼──────────┼──────────────────┤
│ الدرس 1 │ 1  │ ❌ (رمادي)         │
│ الدرس 2 │ 2  │ ❌ (رمادي)         │
└────┴──────────┴──────────────────┘
```

### الحالة 2: درس مفتوح بدون شرط

```
نموذج الدرس:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
☐ درس مجاني
☑ السماح بفتح الدرس بدون إكمال السابق ← مفعّل
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

النتيجة:
✅ الطالب يمكنه فتح الدرس مباشرة
✅ لا توجد شروط على الدروس السابقة

جدول الدروس:
┌────┬──────────┬──────────────────┐
│ الدرس │ الترتيب │ بدون شرط السابق │
├────┼──────────┼──────────────────┤
│ الدرس 1 │ 1  │ ❌ (رمادي)         │
│ الدرس 2 │ 2  │ ✅ (أصفر تحذيري)   │
└────┴──────────┴──────────────────┘
```

### الحالة 3: درس مجاني

```
نموذج الدرس:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
☑ درس مجاني ← مفعّل
☐ السماح بفتح الدرس بدون إكمال السابق
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

النتيجة:
✅ الطالب يمكنه فتح الدرس بدون إكمال السابق
✅ الطالب يمكنه الوصول حتى بدون شراء الدورة

جدول الدروس:
┌────┬──────────┬──────────────────┐
│ الدرس │ الترتيب │ بدون شرط السابق │
├────┼──────────┼──────────────────┤
│ الدرس 1 │ 1  │ ❌ (رمادي)         │
│ الدرس 2 │ 2  │ ❌ (رمادي)         │
└────┴──────────┴──────────────────┘
```

---

## 📊 جدول الدروس - العمود الجديد

### قبل التحديث:
```
┌──────────┬──────────┬──────────┬─────────┬──────────┐
│ القسم │ الدرس │ المدة │ فيديو │ الترتيب │
├──────────┼──────────┼──────────┼─────────┼──────────┤
│ القسم 1 │ الدرس 1 │ 30 دقيقة │ ✓     │ 1      │
│ القسم 1 │ الدرس 2 │ 45 دقيقة │ ✓     │ 2      │
└──────────┴──────────┴──────────┴─────────┴──────────┘
```

### بعد التحديث:
```
┌──────────┬──────────┬──────────┬─────────┬──────────┬──────────────────┐
│ القسم │ الدرس │ المدة │ فيديو │ الترتيب │ بدون شرط │
├──────────┼──────────┼──────────┼─────────┼──────────┼──────────────────┤
│ القسم 1 │ الدرس 1 │ 30 دقيقة │ ✓     │ 1      │ ❌               │
│ القسم 1 │ الدرس 2 │ 45 دقيقة │ ✓     │ 2      │ ✅ (أصفر)       │
└──────────┴──────────┴──────────┴─────────┴──────────┴──────────────────┘
```

---

## 👨‍🎓 ما سيرى الطالب

### صفحة المقررات (المحاضرات):

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    محتوى الدورة - دورة Python للمبتدئين
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌───┬────────────────┬──────────┬──────────────────┐
│ # │ المحاضرة      │ حالة     │ الإجراء          │
├───┼────────────────┼──────────┼──────────────────┤
│ 1 │ مقدمة Python   │ ✅ مفتوح │ [مشاهدة ▶]       │
├───┼────────────────┼──────────┼──────────────────┤
│ 2 │ أنواع البيانات│ ❌ محظور │ [أكمل السابق]   │
│   │               │         │ أكمل: مقدمة P.. │
├───┼────────────────┼──────────┼──────────────────┤
│ 3 │ الحلقات        │ ❌ محظور │ [أكمل السابق]   │
│   │               │         │ أكمل: أنواع ال. │
└───┴────────────────┴──────────┴──────────────────┘

الرسائل:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ محاولة الوصول لمحاضرة مغلقة:
   ⚠️ غير مسموح بالوصول
   📌 يجب عليك إكمال الدرس: مقدمة Python

✅ الوصول المسموح:
   ✓ يتم فتح الدرس مباشرة
```

---

## 🔧 عند التعديل

### مثال عملي:

```
الوضع الحالي:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
دورة: JavaScript للمبتدئين
├─ الدرس 1: مقدمة JS (ترتيب: 1)
├─ الدرس 2: المتغيرات (ترتيب: 2) ← يريد المدرس جعله متاح دائماً
└─ الدرس 3: الدوال (ترتيب: 3)

الحل:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. فتح الدرس 2
2. تفعيل: ☑ السماح بفتح الدرس بدون إكمال السابق
3. حفظ
4. النتيجة: الطلاب يمكنهم الآن فتح الدرس 2 مباشرة
   بغض النظر عن إكمالهم للدرس 1
```

---

## ⚙️ الإعدادات السريعة

### للدرس المقفول (الافتراضي):
```
☐ معاينة مجانية
☐ درس مجاني
☐ السماح بفتح الدرس بدون إكمال السابق
```

### للدرس المفتوح لكل الطلاب:
```
☑ معاينة مجانية    أو    ☑ درس مجاني
```

### للدرس المفتوح للمشتركين فقط:
```
☐ معاينة مجانية
☐ درس مجاني
☑ السماح بفتح الدرس بدون إكمال السابق
```

---

## ✅ قائمة التحقق

- [ ] تم تشغيل Migration (`php artisan migrate`)
- [ ] تم مسح الـ Cache (`php artisan cache:clear`)
- [ ] الخيار الجديد يظهر في نموذج إضافة الدرس
- [ ] العمود الجديد يظهر في جدول الدروس
- [ ] يمكن تفعيل/تعطيل الخيار بدون مشاكل
- [ ] التغييرات تُحفظ بشكل صحيح
- [ ] الطالب يرى حالة الوصول الصحيحة

---

**ملاحظة:** جميع التغييرات تُطبق فوراً بدون الحاجة لإعادة تحميل الصفحة في الكثير من الحالات. 
في حالة الشك، قم بتحديث الصفحة (F5) أو مسح الـ Cache من جديد.
